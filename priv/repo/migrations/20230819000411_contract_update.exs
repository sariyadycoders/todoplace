defmodule Todoplace.Repo.Migrations.ContractUpdate do
  use Ecto.Migration

  # update where organization_id is null and package_id is null and contract_template_id is null
  def change do
    content =
      "<p><strong>Todoplace Default Contract—THIS IS A TEMPLATE CONTRACT FOR INFORMATIONAL PURPOSES ONLY.  PLEASE EDIT AND MAKE THIS YOUR OWN, CONSULT WITH AN ATTORNEY FOR LEGAL ADVICE.</strong></p><ol><li><strong>Retainer and Payment</strong>. The Client shall make a payment to retain the Photographer to perform the services specified herein. When the proposal is accepted, the retainer shall be applied to reduce the total cost and Client shall pay the balance as detailed in the payment schedule.</li><li><strong>Cancellation</strong>. If the Client cancels this Agreement 14 or more calendar days before the session date, any retainer paid to the Photographer shall be refunded in full. If the Client shall cancel within 14 days of the session date and if the Photographer does not obtain another assignment for that time, liquidated damages shall be charged in a reasonable amount not to exceed the retainer.</li><li><strong>Ownership of Photographs and Images</strong>. All images and photographs, including but not limited to digital files, shall be the exclusive property of the Photographer, and the Photographer owns all copyrights in and to the images and photographs. The client may purchase physical prints of the photographs or images (“Prints”) and/or a license to use, reproduce, print and/or download images and photographs (the “Licensed Materials”)The Photographer will make the Licensed Materials available on a photo viewing website and may provide the Client an opportunity to download high-res digital files of the Licensed Materials. The client can also choose to print the Licensed Materials on their own and/or use the photographer’s professional lab for professional quality Prints.  Use of Licensed Materials are subject to the terms of the license between the Photographer and the Client.</li><li><strong>Copyright and Reproductions</strong>. The Photographer shall own the copyright in all images created and shall have the exclusive right to make reproductions, edits or to publish the images. The Photographer shall only make reproductions for the Client or for the Photographer’s portfolio, samples, self-promotions, entry in photographic contests or art exhibitions, editorial use, or for display within or on the outside of the Photographer’s studio. If the Photographer desires to make other uses, the Photographer shall not do so without first obtaining the written permission of the Client. The Client may not reproduce, edit or publish any images without a license from the Photographer.</li><li><strong>Client’s Usage</strong>. The Client is obtaining Prints for personal use only, and shall not sell said Prints or authorize any reproductions thereof by parties other than the Photographer  If the Client wishes to reproduce, edit or publish the images in the Prints or use the Prints in any way other than for its own personal use, the Client must obtain a separate, written license from the photographer.</li><li><strong>Failure to Perform</strong>. If the Photographer cannot perform this Agreement due to a fire or other casualty, strike, act of God, or other cause beyond the control of the parties, or due to the Photographer’s illness, then the Photographer shall return the retainer to the Client but shall have no further liability with respect to the Agreement. This limitation on liability shall also apply in the event that photographic materials are damaged in processing, lost through camera or computer malfunction, lost in the mail, or otherwise lost or damaged without fault on the part of the Photographer. In the event the Photographer fails to perform for any other reason, the Photographer shall not be liable for any amount in excess of the retail value of the Client’s order.</li><li><strong>Photographer’s Standard Price List</strong>. The charges in this Agreement are based on the Photographer’s Standard Price List. This price list is adjusted periodically and future orders shall be charged at the prices in effect at the time when the order is placed.</li><li><strong>Miscellany</strong>. This Agreement incorporates the entire understanding of the parties. Any modifications of this Agreement must be in writing and signed by both parties. Any waiver of a breach or default hereunder shall not be deemed a waiver of a subsequent breach or default of either the same provision or any other provision of this Agreement. This Agreement shall be governed by the laws of the State of Illinois.</li><li><strong>RELEASE</strong>. I hereby acknowledge that all precautions will be taken for a safe shoot and hereby release the Photographer from any liability for any injury incurred during the shoot.</li><li><strong>WARRANTY OF LEGAL CAPACITY</strong>. I represent and warrant that I am at least 18 years of age and have the full legal capacity to execute this Agreement.</li><li><strong>PHOTOGRAPHER INFORMATION</strong>. {{organization_name}}</li><li><strong>DELIVERY OF FINISHED PRODUCT</strong>. The client will be presented with the purchased images from the session within {{delivery_time}} of their session date. Though many more images will be recorded, any image that does not meet quality standards will not be shown. The Photographer will choose to show only the best images for purchase consideration. The client’s images will be presented via an online gallery delivered to the client’s email address.</li></ol>"

    execute(
      "UPDATE contracts SET content = '#{content}' WHERE organization_id IS NULL AND package_id IS NULL AND contract_template_id IS NULL"
    )
  end
end
